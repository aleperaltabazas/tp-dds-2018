<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="../handlebars-v4.0.12.js"></script>
	<script src="../jquery-1.8.2.js"></script>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="stylesheet" type="text/css" href="../CSS/user.css">

	<!-- Bootstrap core CSS -->
	<link href="../resources/bootstrap/Pricing example for Bootstrap_files/bootstrap.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="../resources/bootstrap/Pricing example for Bootstrap_files/pricing.css" rel="stylesheet">
	<title>Sistema de Gestión Energética</title>
	<link rel="icon" href="../resources/imgs/ditto.png">
	<style>
	.center {
		margin: auto;
		width: 50%;
		border: 3px solid green;
		padding: 10px;
	}
	body {
		background-color: white;
	}
</style>
</head>

<body>

	<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
		<a href="."><img src="../resources/imgs/logo.png" class="sge-logo"></a>
		<h5 class="my-0 mr-md-auto font-weight-normal"></h5>
		<nav class="my-2 my-md-0 mr-md-3">
			<div class="row">
				<a class="p-2 text-dark" href="https://google.com"><h1 style="color:#717171;"><img style="padding:15px; width:100px; height:100px;"
					src="../resources/imgs/casa.png"
					alt="SGE" /> Mi Hogar 
				</h1> 
			</a>
			<a class="p-2 text-dark" href="https://google.com">
				<h1 style="color:#717171;"><img style="padding:15px; width:100px; height:100px;" 
					src="../resources/imgs/user.png"
					alt="SGE" />Usuario
				</h1> 
			</a>
		</div>
	</nav>
</div>
<script id="listadoDispositivos" type="text/x-handlebars-template">
	<div class="container">
		<div class="row">
			<div class="panel-body" style="background-color: #FFFFFF;height: 100%;">
				<div class="row">
					<div class="col-lg-12" style="height: 100%;">
						<div class="row">				
							<div class="col-sm-6" style="padding-top:10px;">
								<div style="border:3px;padding-left:30px;">
									<h1>Dispositivos</h1>
								</div>
								<!-- Aca hacemos un for dinamico para mostrar todos los dispositivos-->
								<div class="panel-body" style="background-color:#e6e6e6;">
									<div>
										{{#each dispositivos}}
										<!--Ver cómo hacer para que el index empiece en (1)-->
										<p><strong>{{@index}} - {{dispositivo.nombre}}: </strong>
											<span>{{ dispositivo.descripcion }}</span>
										</p>
										{{/each}}
									</div>
								</div>
							</div>
							<div class="col-sm-6" style="padding-top:10px;">
								<div style="border:3px;padding-left:60px;">
									<h1>Consumo</h1>
								</div>
								<div style="border:3px;padding-left:75px;padding-top:10px;">
									<h3>Total de ultimo mes: {{cliente.ultimo_consumo}}</h3>
								</div>
								<div style="border:3px;padding-left:75px;padding-top:10px;">									
									<h3>Total de mes actual: {{cliente.consumo_actual}}</h3>
								</div>
								<div style="border:3px;padding-left:60px;padding-top:40px;">
									<h1>Ultimas mediciones</h1>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>		
	</div>
</script>
</body>
</html>


<!-- Archivo JS -->
<script type="text/javascript">
	var templateHtml = $('#listadoDispositivos').html();
	var templateScript = Handlebars.compile(templateHtml);

	var context = { 
		'dispositivos': [
		{'dispositivo':{'nombre': 'Heladera','descripcion': 'Muy fría'}}, 
		{'dispositivo':{'nombre': 'Televisión','descripcion': 'A color full HD'}},
		{'dispositivo':{'nombre': 'Microondas','descripcion': 'Smart'}}
		],
		'cliente':{ 'ultimo_consumo': '2500', 'consumo_actual': '3000'}
	};

	var sourceHtml = templateScript(context);
	$(document.body).append(sourceHtml);
</script>	
