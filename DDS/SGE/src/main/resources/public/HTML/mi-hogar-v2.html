<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="../handlebars-v4.0.12.js"></script>
<script src="../jquery-1.8.2.js"></script>
<style>
	.center {
	    margin: auto;
	    width: 50%;
	    border: 3px solid green;
	    padding: 10px;
	}
	body {
	    background-color: black;
	}
</style>
</head>

<body>
	<script id="listadoDispositivos" type="text/x-handlebars-template">
<div class="container" style="border: 1px solid #717171;">
	<div class="row">
		<header style="background-color: white;">		
			<div class="panel-body">
				<div class="row">
					<div class="col-lg-12">
						<div class="row">				
							<div class="col-sm-6" style="border-right: 1px solid #717171; ">
								<a href="./">
									<h1 style="color:#717171; padding-left:35px;"><img style="padding:15px; width:200px; height:100px;" 
										src="../resources/imgs/logo-invert.png"/>
										</h1>	
								</a>
							</div>
							<div class="col-sm-3">
								<a href="http://www.google.com/">
									<h1 style="color:#717171;"><img style="padding:15px; width:100px; height:100px;" 
										src="http://tanatos.cl/wp-content/uploads/2015/10/hogares.png"
										alt="SGE" /> Mi Hogar 
									</h1>	
								</a>
							</div>	
							<div class="col-sm-3">
								<a href="http://www.google.com/">
									<h1 style="color:#717171;"><img style="padding:15px; width:100px; height:100px;" 
										src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIoeXqhg2tMzdJ_FOKG93m4EG6sRcpw3Wga1EGVJSl5VdQ0Zxe"
										alt="SGE" />Usuario
									</h1>	
								</a>
							</div>	
						</div>	
					</div>										
				</div>
			</div>
		</header>			
	</div>
</div>
<div class="container">
	<div class="row">
		<div class="panel-body" style="background-color: #ADD8E6;height: 100%;">
			<div class="row">
				<div class="col-lg-12" style="height: 100%;">
					<div class="row">				
						<div class="col-sm-6" style="padding-top:10px;">
							<div style="border:3px;padding-left:30px;">
								<h1>Dispositivos</h1>
							</div>
							<!-- Aca hacemos un for dinamico para mostrar todos los dispositivos-->
							<div class="panel-body" style="background-color:#e6e6e6;">
								<div>
									{{#each dispositivos}}
<!--Ver cómo hacer para que el index empiece en (1)-->
									<p><strong>{{@index}} - {{dispositivo.nombre}}: </strong>
										<span>{{ dispositivo.descripcion }}</span>
									</p>
									{{/each}}
								</div>
							</div>
						</div>
						<div class="col-sm-6" style="padding-top:10px;">
							<div style="border:3px;padding-left:30px;">
								<h1>Consumo</h1>
							</div>
							<div style="border:3px;padding-left:45px;padding-top:10px;">
								<h3>Total de ultimo mes: {{cliente.ultimo_consumo}}</h3>
							</div>
							<div style="border:3px;padding-left:45px;padding-top:10px;">									
								<h3>Total de mes actual: {{cliente.consumo_actual}}</h3>
							</div>
							<div style="border:3px;padding-left:30px;padding-top:40px;">
								<h1>Ultimas mediciones</h1>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>		
</div>
</script>
</body>
</html>


<!-- Archivo JS -->
<script type="text/javascript">
	var templateHtml = $('#listadoDispositivos').html();
	var templateScript = Handlebars.compile(templateHtml);

	var context = { 
		'dispositivos': [
			{'dispositivo':{'nombre': 'Heladera','descripcion': 'Muy fría'}}, 
			{'dispositivo':{'nombre': 'Televisión','descripcion': 'A color full HD'}},
			{'dispositivo':{'nombre': 'Microondas','descripcion': 'Smart'}}
			],
		'cliente':{ 'ultimo_consumo': '2500', 'consumo_actual': '3000'}
	};

	var sourceHtml = templateScript(context);
	$(document.body).append(sourceHtml);
</script>	
